<?xml version="1.0" encoding="UTF-8"?>
<TestScript xmlns="http://hl7.org/fhir" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://hl7.org/fhir ../../schema/testscript.xsd">
  <id value="2014-02-washington-ts"/>
  <name value="Terminology Connectathon #1 Test Script"/>
  <description value="This is the test script the 1st Terminology Services Connectathon"/>

  <fixture id="extensional-case-1">
    <resource>
      <ValueSet xmlns="http://hl7.org/fhir">
        <id value="extensional-case-1"/>
        <text>
          <status value="generated"/>
          <div xmlns="http://www.w3.org/1999/xhtml">A selection of codes from http://hl7.org/fhir/patient-contact-relationship</div>
        </text>
        <identifier value="http://www.healthintersections.com.au/fhir/ValueSet/extensional-case-1"/>
        <name value="Terminology Services Connectation #1 Extensional case #1"/>
        <publisher value="Grahame Grieve"/>
        <telecom>
          <system value="email"/>
          <value value="grahame@healthintersections.com.au"/>
        </telecom>
        <description value="an enumeration of codes defined by FHIR itself"/>
        <status value="draft"/>
        <experimental value="true"/>
        <compose>
          <include>
            <!-- note - the source for this is at http://hl7-fhir.github.io/valueset-patient-contact-relationship.html -->
            <system value="http://hl7.org/fhir/patient-contact-relationship"/>
            <concept>
              <code value="emergency"/>
              <display value="Emergency"/>
            </concept>
            <concept>
              <code value="family"/>
              <display value="Family"/>
            </concept>
            <concept>
              <code value="guardian"/>
              <display value="Guardian"/>
            </concept>
            <concept>
              <code value="friend"/>
              <display value="Friend"/>
            </concept>
            <concept>
              <code value="partner"/>
              <display value="Partner"/>
            </concept>
            <concept>
              <code value="work"/>
              <display value="Work"/>
            </concept>
            <concept>
              <code value="parent"/>
              <display value="Parent"/>
            </concept>
          </include>
        </compose>
      </ValueSet>
    </resource>
  </fixture>
  <fixture id="extensional-case-2">
    <resource>
      <ValueSet xmlns="http://hl7.org/fhir">
        <id value="extensional-case-2"/>
        <text>
          <status value="generated"/>
          <div xmlns="http://www.w3.org/1999/xhtml">A selection of codes from http://loinc.org</div>
        </text>
        <identifier value="http://www.healthintersections.com.au/fhir/ValueSet/extensional-case-2"/>
        <name value="Terminology Services Connectation #1 Extensional case #2"/>
        <publisher value="Grahame Grieve"/>
        <telecom>
          <system value="email"/>
          <value value="grahame@healthintersections.com.au"/>
        </telecom>
        <description value="an enumeration of codes defined by LOINC"/>
        <status value="draft"/>
        <experimental value="true"/>
        <compose>
          <include>
            <system value="http://loinc.org"/>
            <concept>
              <code value="11378-7"/>
              <display value="Systolic blood pressure at First encounter"/>
            </concept>
            <concept>
              <code value="8493-9"/>
              <display value="Systolic blood pressure 10 hour minimum"/>
            </concept>
            <concept>
              <code value="8494-7"/>
              <display value="Systolic blood pressure 12 hour minimum"/>
            </concept>
            <concept>
              <code value="8495-4"/>
              <display value="Systolic blood pressure 24 hour minimum"/>
            </concept>
            <concept>
              <code value="8450-9"/>
              <display value="Systolic blood pressure--expiration"/>
            </concept>
            <concept>
              <code value="8451-7"/>
              <display value="Systolic blood pressure--inspiration"/>
            </concept>
            <concept>
              <code value="8452-5"/>
              <display value="Systolic blood pressure.inspiration - expiration"/>
            </concept>
            <concept>
              <code value="8459-0"/>
              <display value="Systolic blood pressure--sitting"/>
            </concept>
            <concept>
              <code value="8460-8"/>
              <display value="Systolic blood pressure--standing"/>
            </concept>
            <concept>
              <code value="8461-6"/>
              <display value="Systolic blood pressure--supine"/>
            </concept>
            <concept>
              <code value="8479-8"/>
              <display value="Systolic blood pressure by palpation"/>
            </concept>
            <concept>
              <code value="8480-6"/>
              <display value="Systolic blood pressure"/>
            </concept>
            <concept>
              <code value="8481-4"/>
              <display value="Systolic blood pressure 1 hour maximum"/>
            </concept>
            <concept>
              <code value="8482-2"/>
              <display value="Systolic blood pressure 8 hour maximum"/>
            </concept>
            <concept>
              <code value="8483-0"/>
              <display value="Systolic blood pressure 10 hour maximum"/>
            </concept>
            <concept>
              <code value="8484-8"/>
              <display value="Systolic blood pressure 12 hour maximum"/>
            </concept>
            <concept>
              <code value="8485-5"/>
              <display value="Systolic blood pressure 24 hour maximum"/>
            </concept>
            <concept>
              <code value="8486-3"/>
              <display value="Systolic blood pressure 1 hour mean"/>
            </concept>
            <concept>
              <code value="8487-1"/>
              <display value="Systolic blood pressure 8 hour mean"/>
            </concept>
            <concept>
              <code value="8488-9"/>
              <display value="Systolic blood pressure 10 hour mean"/>
            </concept>
            <concept>
              <code value="8489-7"/>
              <display value="Systolic blood pressure 12 hour mean"/>
            </concept>
            <concept>
              <code value="8490-5"/>
              <display value="Systolic blood pressure 24 hour mean"/>
            </concept>
            <concept>
              <code value="8491-3"/>
              <display value="Systolic blood pressure 1 hour minimum"/>
            </concept>
            <concept>
              <code value="8492-1"/>
              <display value="Systolic blood pressure 8 hour minimum"/>
            </concept>
          </include>
        </compose>
      </ValueSet>
    </resource>
  </fixture>
  <fixture id="extensional-case-3">
    <resource>
      <ValueSet xmlns="http://hl7.org/fhir">
        <id value="extensional-case-3"/>
        <text>
          <status value="generated"/>
          <div xmlns="http://www.w3.org/1999/xhtml">A selection of codes from http://snomed.info/sct</div>
        </text>
        <identifier value="http://www.healthintersections.com.au/fhir/ValueSet/extensional-case-3"/>
        <name value="Terminology Services Connectation #1 Extensional case #3"/>
        <publisher value="Grahame Grieve"/>
        <telecom>
          <system value="email"/>
          <value value="grahame@healthintersections.com.au"/>
        </telecom>
        <description value="an enumeration of codes defined by SNOMED"/>
        <status value="draft"/>
        <experimental value="true"/>
        <compose>
          <include>
            <system value="http://snomed.info/sct"/>
            <concept>
              <code value="371037005"/>
              <display value="Systolic dysfunction"/>
            </concept>
            <concept>
              <code value="56218007"/>
              <display value="Systolic hypertension"/>
            </concept>
            <concept>
              <code value="271657009"/>
              <display value="Systolic cardiac thrill"/>
            </concept>
            <concept>
              <code value="429457004"/>
              <display value="Systolic essential hypertension"/>
            </concept>
            <concept>
              <code value="417996009"/>
              <display value="Systolic heart failure"/>
            </concept>
            <concept>
              <code value="44623008"/>
              <display value="Systolic ejection sound"/>
            </concept>
            <concept>
              <code value="248677002"/>
              <display value="Systolic flow murmur"/>
            </concept>
            <concept>
              <code value="31574009"/>
              <display value="Systolic murmur"/>
            </concept>
            <concept>
              <code value="120871000119108"/>
              <display value="Systolic heart failure stage B"/>
            </concept>
            <concept>
              <code value="120851000119104"/>
              <display value="Systolic heart failure stage D"/>
            </concept>
            <concept>
              <code value="120861000119102"/>
              <display value="Systolic heart failure stage C"/>
            </concept>
            <concept>
              <code value="609556008"/>
              <display value="Systolic heart failure stage A"/>
            </concept>
            <concept>
              <code value="61926008"/>
              <display value="Basal systolic thrill"/>
            </concept>
            <concept>
              <code value="248672008"/>
              <display value="Soft systolic murmur"/>
            </concept>
            <concept>
              <code value="65254001"/>
              <display value="Late systolic murmur"/>
            </concept>
            <concept>
              <code value="89985004"/>
              <display value="Early systolic murmur"/>
            </concept>
            <concept>
              <code value="248692001"/>
              <display value="Mid-systolic click"/>
            </concept>
            <concept>
              <code value="248678007"/>
              <display value="Mitral late systolic murmur"/>
            </concept>
            <concept>
              <code value="443254009"/>
              <display value="Acute systolic heart failure"/>
            </concept>
            <concept>
              <code value="441481004"/>
              <display value="Chronic systolic heart failure"/>
            </concept>
            <concept>
              <code value="48965007"/>
              <display value="Single non-ejection systolic click"/>
            </concept>
            <concept>
              <code value="68519006"/>
              <display value="Multiple non-ejection systolic clicks"/>
            </concept>
            <concept>
              <code value="134401001"/>
              <display value="Left ventricular systolic dysfunction"/>
            </concept>
            <concept>
              <code value="416158002"/>
              <display value="Right ventricular systolic dysfunction"/>
            </concept>
            <concept>
              <code value="68494000"/>
              <display value="Mid-systolic murmur"/>
            </concept>
            <concept>
              <code value="442304009"/>
              <display value="Combined systolic and diastolic dysfunction"/>
            </concept>
            <concept>
              <code value="18352002"/>
              <display value="Abnormal systolic arterial pressure"/>
            </concept>
            <concept>
              <code value="407596008"/>
              <display value="Echocardiogram shows left ventricular systolic dysfunction"/>
            </concept>
            <concept>
              <code value="371857005"/>
              <display value="Normal left ventricular systolic function and wall motion"/>
            </concept>
            <concept>
              <code value="430396006"/>
              <display value="Chronic systolic dysfunction of left ventricle"/>
            </concept>
            <concept>
              <code value="12929001"/>
              <display value="Normal systolic arterial pressure"/>
            </concept>
            <concept>
              <code value="275285009"/>
              <display value="On examination - systolic murmur"/>
            </concept>
            <concept>
              <code value="443253003"/>
              <display value="Acute on chronic systolic heart failure"/>
            </concept>
            <concept>
              <code value="371862006"/>
              <display value="Depression of left ventricular systolic function"/>
            </concept>
            <concept>
              <code value="81010002"/>
              <display value="Decreased systolic arterial pressure"/>
            </concept>
            <concept>
              <code value="163030003"/>
              <display value="On examination - Systolic BP reading"/>
            </concept>
            <concept>
              <code value="163069009"/>
              <display value="On examination - systolic cardiac thrill"/>
            </concept>
            <concept>
              <code value="18050000"/>
              <display value="Increased systolic arterial pressure"/>
            </concept>
            <concept>
              <code value="163094005"/>
              <display value="On examination - pulmonary systolic murmur"/>
            </concept>
            <concept>
              <code value="426263006"/>
              <display value="Congestive heart failure due to left ventricular systolic dysfunction"/>
            </concept>
            <concept>
              <code value="417081007"/>
              <display value="Systolic anterior movement of mitral valve"/>
            </concept>
            <concept>
              <code value="248679004"/>
              <display value="Mitral pansystolic murmur"/>
            </concept>
            <concept>
              <code value="248687003"/>
              <display value="Presystolic mitral murmur"/>
            </concept>
            <concept>
              <code value="248688008"/>
              <display value="Presystolic tricuspid murmur"/>
            </concept>
            <concept>
              <code value="71201008"/>
              <display value="Pansystolic murmur"/>
            </concept>
            <concept>
              <code value="23795000"/>
              <display value="Presystolic murmur"/>
            </concept>
            <concept>
              <code value="23795000"/>
              <display value="Presystolic murmur"/>
            </concept>
            <concept>
              <code value="248680001"/>
              <display value="Tricuspid inspiratory pansystolic murmur"/>
            </concept>
            <concept>
              <code value="248681002"/>
              <display value="Left parasternal pansystolic murmur"/>
            </concept>
          </include>
        </compose>
      </ValueSet>
    </resource>
  </fixture>
  <fixture id="extensional-case-4">
    <resource>
      <ValueSet xmlns="http://hl7.org/fhir">
        <id value="extensional-case-4"/>
        <text>
          <status value="generated"/>
          <div xmlns="http://www.w3.org/1999/xhtml">A selection of codes from http://hl7.org/fhir/patient-contact-relationship</div>
        </text>
        <identifier value="http://www.healthintersections.com.au/fhir/ValueSet/extensional-case-4"/>
        <name value="Terminology Services Connectation #1 Extensional case #4"/>
        <publisher value="Grahame Grieve"/>
        <telecom>
          <system value="email"/>
          <value value="grahame@healthintersections.com.au"/>
        </telecom>
        <description value="A mixed enumeration of codes from FHIR, and from V3 role code"/>
        <status value="draft"/>
        <experimental value="true"/>
        <compose>
          <include>
            <system value="http://hl7.org/fhir/patient-contact-relationship"/>
            <concept>
              <code value="emergency"/>
              <display value="Emergency"/>
            </concept>
            <concept>
              <code value="family"/>
              <display value="Family"/>
            </concept>
            <concept>
              <code value="guardian"/>
              <display value="Guardian"/>
            </concept>
            <concept>
              <code value="friend"/>
              <display value="Friend"/>
            </concept>
            <concept>
              <code value="partner"/>
              <display value="Partner"/>
            </concept>
            <concept>
              <code value="work"/>
              <display value="Work"/>
            </concept>
          </include>
          <include>
            <system value="http://hl7.org/fhir/v3/RoleCode"/>
            <concept>
              <code value="CHILD"/>
              <display value="child"/>
            </concept>
            <concept>
              <code value="FTH"/>
              <display value="father"/>
            </concept>
            <concept>
              <code value="MTH"/>
              <display value="mother"/>
            </concept>
          </include>
        </compose>
      </ValueSet>
    </resource>
  </fixture>
  <fixture id="intensional-case-1">
    <resource>
      <ValueSet xmlns="http://hl7.org/fhir">
        <id value="intensional-case-1"/>
        <text>
          <status value="generated"/>
          <div xmlns="http://www.w3.org/1999/xhtml">All loinc codes for system = Arterial system</div>
        </text>
        <identifier value="http://www.healthintersections.com.au/fhir/ValueSet/intensional-case-1"/>
        <name value="Terminology Services Connectation #1 Intensional case #1"/>
        <publisher value="Grahame Grieve"/>
        <telecom>
          <system value="email"/>
          <value value="grahame@healthintersections.com.au"/>
        </telecom>
        <description value="All loinc codes for system = Arterial system"/>
        <status value="draft"/>
        <experimental value="true"/>
        <compose>
          <include>
            <system value="http://loinc.org"/>
            <filter>
              <property value="SYSTEM"/>
              <op value="="/>
              <value value="Arterial system"/>
            </filter>
          </include>
        </compose>
      </ValueSet>
    </resource>
  </fixture>
  <fixture id="intensional-case-2">
    <resource>
      <ValueSet xmlns="http://hl7.org/fhir">
        <id value="intensional-case-2"/>
        <text>
          <status value="generated"/>
          <div xmlns="http://www.w3.org/1999/xhtml">All Snomed codes that are subsumed by 38341003 (Hypertensive disorder, systemic arterial)</div>
        </text>
        <identifier value="http://www.healthintersections.com.au/fhir/ValueSet/intensional-case-2"/>
        <name value="Terminology Services Connectation #1 Intensional case #2"/>
        <publisher value="Grahame Grieve"/>
        <telecom>
          <system value="email"/>
          <value value="grahame@healthintersections.com.au"/>
        </telecom>
        <description value="All Snomed codes that are subsumed by 38341003 (Hypertensive disorder, systemic arterial)"/>
        <status value="draft"/>
        <experimental value="true"/>
        <compose>
          <include>
            <system value="http://snomed.info/sct"/>
            <filter>
              <property value="concept"/>
              <op value="is-a"/>
              <value value="38341003"/>
            </filter>
          </include>
        </compose>
      </ValueSet>
    </resource>
  </fixture>
  <fixture id="intensional-case-3">
    <resource>
      <ValueSet xmlns="http://hl7.org/fhir">
        <id value="intensional-case-3"/>
        <text>
          <status value="generated"/>
          <div xmlns="http://www.w3.org/1999/xhtml">All Snomed codes that are subsumed by 404684003 (Clinical Finding)</div>
        </text>
        <identifier value="http://www.healthintersections.com.au/fhir/ValueSet/intensional-case-3"/>
        <name value="Terminology Services Connectation #1 Intensional case #3"/>
        <publisher value="Grahame Grieve"/>
        <telecom>
          <system value="email"/>
          <value value="grahame@healthintersections.com.au"/>
        </telecom>
        <description value="All Snomed codes that are subsumed by 404684003 (Clinical Finding)"/>
        <status value="draft"/>
        <experimental value="true"/>
        <compose>
          <include>
            <system value="http://snomed.info/sct"/>
            <filter>
              <property value="concept"/>
              <op value="is-a"/>
              <value value="404684003"/>
            </filter>
          </include>
        </compose>
      </ValueSet>
    </resource>
  </fixture>

  <setup>
    <operation>
      <type value="create"/>
      <source value="extensional-case-1"/>
    </operation>
    <operation>
      <type value="create"/>
      <source value="extensional-case-2"/>
    </operation>
    <operation>
      <type value="create"/>
      <source value="extensional-case-3"/>
    </operation>
    <operation>
      <type value="create"/>
      <source value="extensional-case-4"/>
    </operation>
    <operation>
      <type value="create"/>
      <source value="intensional-case-1"/>
    </operation>
    <operation>
      <type value="create"/>
      <source value="intensional-case-2"/>
    </operation>
    <operation>
      <type value="create"/>
      <source value="intensional-case-3"/>
    </operation>
  </setup>

<!-- These tests are from suite1 - Simple Expansion Tests -->
<!-- Add min xpath comparisons -->
  <test id="test1-1">
    <name value="Fixed expansion #1"/>
    <description value="Expanding a fixed limited value set, case #1"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $expand"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$expand"/>
      </validates>
    </metadata>
    <operation>
      <type value="$expand"/>
      <target value="extensional-case-1"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:id/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:meta/fhir:lastUpdated/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ValueSet/extensional-case-1"/>
      <parameter value="fhir:ValueSet/fhir:identifier/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="draft"/>
      <parameter value="fhir:ValueSet/fhir:status/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="true"/>
      <parameter value="fhir:ValueSet/fhir:experimental/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:timestamp/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="exact-no-order"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/patient-contact-relationship"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="emergency"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Emergency"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="family"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Family"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="guardian"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Guardian"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="partner"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Partner"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="work"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Work"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="parent"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Parent"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
  </test>
  <test id="test1-2">
    <name value="Fixed expansion #2"/>
    <description value="Expanding a fixed limited value set, case #2"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $expand"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$expand"/>
      </validates>
    </metadata>
    <operation>
      <type value="$expand"/>
      <target value="extensional-case-2"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:id/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:meta/fhir:lastUpdated/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ValueSet/extensional-case-2"/>
      <parameter value="fhir:ValueSet/fhir:identifier/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="draft"/>
      <parameter value="fhir:ValueSet/fhir:status/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="true"/>
      <parameter value="fhir:ValueSet/fhir:experimental/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:timestamp/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="exact-no-order"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://loinc.org"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="11378-7"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure at First encounter"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8493-9"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 10 hour minimum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8494-7"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 12 hour minimum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8495-4"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 24 hour minimum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8450-9"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure--expiration"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8451-7"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure--inspiration"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8452-5"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure.inspiration - expiration"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8459-0"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure--sitting"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8460-8"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure--standing"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8461-6"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure--supine"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8479-8"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure by palpation"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8480-6"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8481-4"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 1 hour maximum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8482-2"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 8 hour maximum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8483-0"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 10 hour maximum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8484-8"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 12 hour maximum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8485-5"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 24 hour maximum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8486-3"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 1 hour mean"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8487-1"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 8 hour mean"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8488-9"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 10 hour mean"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8489-7"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 12 hour mean"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8490-5"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 24 hour mean"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8491-3"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 1 hour minimum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8492-1"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 8 hour minimum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
  </test>
  <test id="test1-3">
    <name value="Fixed expansion #3"/>
    <description value="Expanding a fixed limited value set, case #3"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $expand"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$expand"/>
      </validates>
    </metadata>
    <operation>
      <type value="$expand"/>
      <target value="extensional-case-3"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:id/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:meta/fhir:lastUpdated/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ValueSet/extensional-case-3"/>
      <parameter value="fhir:ValueSet/fhir:identifier/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="draft"/>
      <parameter value="fhir:ValueSet/fhir:status/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="true"/>
      <parameter value="fhir:ValueSet/fhir:experimental/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:timestamp/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="exact-no-order"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://snomed.info/sct"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="371037005"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic dysfunction (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="56218007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="271657009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic cardiac thrill (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="429457004"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic essential hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="417996009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic heart failure (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="44623008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic ejection sound (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="248677002"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic flow murmur (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="31574009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic murmur (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="120871000119108"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic heart failure stage B (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="120851000119104"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic heart failure stage D (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="120861000119102"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic heart failure stage C (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="609556008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic heart failure stage A (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="61926008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Basal systolic thrill (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="248672008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Soft systolic murmur (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="65254001"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Late systolic murmur (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="89985004"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Early systolic murmur (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="248692001"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Mid-systolic click (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="248678007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Mitral late systolic murmur (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="443254009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Acute systolic heart failure (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="441481004"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Chronic systolic heart failure (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="48965007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Single non-ejection systolic click (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="68519006"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Multiple non-ejection systolic clicks (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="134401001"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Left ventricular systolic dysfunction (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="416158002"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Right ventricular systolic dysfunction (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="68494000"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Mid-systolic murmur (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="442304009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Combined systolic and diastolic dysfunction (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="18352002"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Abnormal systolic arterial pressure (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="407596008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Echocardiogram shows left ventricular systolic dysfunction (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="371857005"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Normal left ventricular systolic function and wall motion (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="430396006"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Chronic systolic dysfunction of left ventricle (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="12929001"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Normal systolic arterial pressure (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="275285009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="On examination - systolic murmur (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="443253003"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Acute on chronic systolic heart failure (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="371862006"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Depression of left ventricular systolic function (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="81010002"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Decreased systolic arterial pressure (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="163030003"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="On examination - Systolic BP reading (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="163069009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="On examination - systolic cardiac thrill (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="18050000"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Increased systolic arterial pressure (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="163094005"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="On examination - pulmonary systolic murmur (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="426263006"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Congestive heart failure due to left ventricular systolic dysfunction (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="417081007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic anterior movement of mitral valve (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="248679004"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Mitral pansystolic murmur (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="248687003"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Presystolic mitral murmur (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="248688008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Presystolic tricuspid murmur (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="71201008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Pansystolic murmur (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="23795000"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Presystolic murmur (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="248680001"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Tricuspid inspiratory pansystolic murmur (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="248681002"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Left parasternal pansystolic murmur (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
  </test>
  <test id="test1-4">
    <name value="Fixed expansion #4"/>
    <description value="Expanding a fixed limited value set, case #4"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $expand"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$expand"/>
      </validates>
    </metadata>
    <operation>
      <type value="$expand"/>
      <target value="extensional-case-4"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:id/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:meta/fhir:lastUpdated/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ValueSet/extensional-case-4"/>
      <parameter value="fhir:ValueSet/fhir:identifier/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="draft"/>
      <parameter value="fhir:ValueSet/fhir:status/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="true"/>
      <parameter value="fhir:ValueSet/fhir:experimental/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:timestamp/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="exact-no-order"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/patient-contact-relationship"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="emergency"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Emergency"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="family"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Family"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="guardian"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Guardian"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="friend"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Friend"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="partner"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Partner"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="work"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Work"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="CHILD"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="child"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="FTH"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="father"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="MTH"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="mother"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
  </test>
  <test id="test1-5">
    <name value="Fixed expansion #5"/>
    <description value="Expanding a fixed limited value set, case #5"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $expand"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$expand"/>
      </validates>
    </metadata>
    <operation>
      <type value="$expand"/>
      <target value="intensional-case-1"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:id/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:meta/fhir:lastUpdated/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ValueSet/intensional-case-1"/>
      <parameter value="fhir:ValueSet/fhir:identifier/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="draft"/>
      <parameter value="fhir:ValueSet/fhir:status/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="true"/>
      <parameter value="fhir:ValueSet/fhir:experimental/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:timestamp/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="exact-no-order"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://loinc.org"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="11328-2"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Heart rate at First encounter"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="11377-9"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure at First encounter"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="11378-7"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure at First encounter"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="18708-8"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="First Heart rate Set"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="34538-9"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Orthostatic blood pressure"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="34553-8"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Orthostatic blood pressure panel"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="45372-0"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Blood pressure systolic and diastolic--post phlebotomy"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="50402-7"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Blood pressure systolic and diastolic--after transfusion"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="50403-5"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Blood pressure systolic and diastolic--before transfusion"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="55284-4"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Blood pressure systolic and diastolic"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="55422-0"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Heart rate Encounter maximum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="55425-3"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Heart rate unspecified time mean by Pedometer"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="55426-1"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Heart rate unspecified time maximum by Pedometer"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="68999-2"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Heart rate --supine"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="69000-8"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Heart rate --sitting"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="69001-6"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Heart rate --standing"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="69408-3"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Orthostatic heart rate [Difference in rate]"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8464-0"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure 8 hour maximum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8465-7"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure 10 hour maximum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8466-5"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure 12 hour maximum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8467-3"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure 24 hour maximum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8468-1"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure 1 hour mean"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8469-9"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure 8 hour mean"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8470-7"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure 10 hour mean"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8471-5"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure 12 hour mean"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8493-9"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 10 hour minimum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8494-7"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 12 hour minimum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8495-4"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 24 hour minimum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8446-7"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure--expiration"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8447-5"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure--inspiration"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8448-3"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Mean blood pressure--expiration"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8449-1"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Mean blood pressure--inspiration"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8450-9"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure--expiration"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8451-7"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure--inspiration"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8452-5"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure.inspiration - expiration"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8453-3"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure--sitting"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8454-1"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure--standing"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8455-8"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure--supine"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8456-6"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Mean blood pressure--sitting"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8457-4"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Mean blood pressure--standing"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8458-2"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Mean blood pressure--supine"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8459-0"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure--sitting"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8460-8"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure--standing"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8461-6"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure--supine"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8462-4"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8463-2"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure 1 hour maximum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8472-3"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure 24 hour mean"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8473-1"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure 1 hour minimum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8474-9"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure 8 hour minimum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8475-6"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure 10 hour minimum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8476-4"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure 12 hour minimum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8477-2"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure 24 hour minimum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8478-0"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Mean blood pressure"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8479-8"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure by palpation"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8480-6"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8481-4"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 1 hour maximum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8482-2"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 8 hour maximum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8483-0"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 10 hour maximum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8484-8"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 12 hour maximum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8485-5"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 24 hour maximum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8486-3"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 1 hour mean"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8487-1"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 8 hour mean"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8488-9"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 10 hour mean"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8489-7"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 12 hour mean"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8490-5"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 24 hour mean"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8491-3"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 1 hour minimum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8492-1"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 8 hour minimum"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
  </test>
  <test id="test1-6">
    <name value="Fixed expansion #6"/>
    <description value="Expanding a fixed limited value set, case #6"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $expand"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$expand"/>
      </validates>
    </metadata>
    <operation>
      <type value="$expand"/>
      <target value="intensional-case-2"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:id/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:meta/fhir:lastUpdated/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ValueSet/intensional-case-2"/>
      <parameter value="fhir:ValueSet/fhir:identifier/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="draft"/>
      <parameter value="fhir:ValueSet/fhir:status/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="true"/>
      <parameter value="fhir:ValueSet/fhir:experimental/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:timestamp/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="exact-no-order"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://snomed.info/sct"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="1201005"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Benign essential hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8218002"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Chronic hypertension complicating AND/OR reason for care during childbirth"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8762007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Chronic hypertension in obstetric context (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="9901000"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Essential hypertension complicating AND/OR reason for care during puerperium (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="10562009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Malignant hypertension complicating AND/OR reason for care during childbirth (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="10725009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Benign hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="14973001"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Renal sclerosis with hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="15394000"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Toxaemia of pregnancy"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="18416000"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Essential hypertension complicating AND/OR reason for care during childbirth (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="19769006"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="High-renin essential hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="23130000"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Paroxysmal hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="23717007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Benign essential hypertension complicating AND/OR reason for care during pregnancy (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="23786008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Malignant hypertension complicating AND/OR reason for care during puerperium (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="24042004"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Chronic hypertension complicating AND/OR reason for care during puerperium (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="26078007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Hypertension secondary to renal disease complicating AND/OR reason for care during childbirth (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="28119000"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Renal hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="29259002"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Malignant hypertension complicating AND/OR reason for care during pregnancy (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="31407004"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Pre-existing hypertension complicating AND/OR reason for care during puerperium (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="31992008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Secondary hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="34694006"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Pre-existing hypertension complicating AND/OR reason for care during childbirth (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="35303009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Benign essential hypertension complicating AND/OR reason for care during puerperium (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="37618003"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Chronic hypertension complicating AND/OR reason for care during pregnancy (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="39018007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Renal arterial hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="39727004"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Hypertension secondary to renal disease complicating AND/OR reason for care during puerperium (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="41114007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Mild pre-eclampsia (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="46481004"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Low-renin essential hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="46764007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Severe pre-eclampsia (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="48146000"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="48194001"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Pregnancy-induced hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="48552006"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Hypertension secondary to renal disease complicating AND/OR reason for care during pregnancy (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="52698002"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Transient hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="56218007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="57684003"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Parenchymal renal hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="59621000"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Essential hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="59720008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Sustained diastolic hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="59997006"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Endocrine hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="62275004"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Hypertensive episode (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="63287004"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Benign essential hypertension in obstetric context (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="65402008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Pre-existing hypertension complicating AND/OR reason for care during pregnancy (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="65518004"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Labile diastolic hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="67359005"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Pre-eclampsia added to pre-existing hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="69909000"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Eclampsia added to pre-existing hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="70272006"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Malignant hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="71874008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Benign essential hypertension complicating AND/OR reason for care during childbirth (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="72022006"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Essential hypertension in obstetric context (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="73410007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Benign secondary renovascular hypertension"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="74451002"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Secondary diastolic hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="78808002"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Essential hypertension complicating AND/OR reason for care during pregnancy (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="78975002"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Malignant essential hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="81626002"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Malignant hypertension in obstetric context (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="84094009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Rebound hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="86041002"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Pre-existing hypertension in obstetric context (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="89242004"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Malignant secondary hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="95605009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Hemolysis-elevated liver enzymes-low platelet count syndrome (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="111438007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Hypertension secondary to renal disease in obstetric context (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="123799005"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Renovascular hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="123800009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Goldblatt hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="169465000"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Hypertension induced by oral contraceptive pill (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="194783001"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Secondary malignant renovascular hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="194785008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Secondary benign hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="194788005"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Hypertension secondary to endocrine disorder (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="194791005"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Hypertension secondary to drug (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198941007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Hypertension complicating pregnancy, childbirth and the puerperium (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198942000"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Benign essential hypertension complicating pregnancy, childbirth and the puerperium (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198944004"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Benign essential hypertension complicating pregnancy, childbirth and the puerperium - delivered (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198945003"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Benign essential hypertension complicating pregnancy, childbirth and the puerperium - delivered with postnatal complication (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198946002"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Benign essential hypertension complicating pregnancy, childbirth and the puerperium - not delivered (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198947006"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Benign essential hypertension complicating pregnancy, childbirth and the puerperium with postnatal complication (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198949009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Renal hypertension complicating pregnancy, childbirth and the puerperium (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198951008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Renal hypertension complicating pregnancy, childbirth and the puerperium - delivered (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198952001"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Renal hypertension complicating pregnancy, childbirth and the puerperium - delivered with postnatal complication (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198953006"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Renal hypertension complicating pregnancy, childbirth and the puerperium - not delivered (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198954000"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Renal hypertension complicating pregnancy, childbirth and the puerperium with postnatal complication (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198965005"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Transient hypertension of pregnancy - delivered"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198966006"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Transient hypertension of pregnancy - delivered with postnatal complication"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198967002"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Transient hypertension of pregnancy - not delivered (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198968007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Transient hypertension of pregnancy with postnatal complication (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198983002"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Severe pre-eclampsia - delivered (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198984008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Severe pre-eclampsia - delivered with postnatal complication (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198985009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Severe pre-eclampsia - not delivered (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198986005"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Severe pre-eclampsia with postnatal complication (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198997005"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Pre-eclampsia or eclampsia with pre-existing hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="198999008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Pre-eclampsia or eclampsia with pre-existing hypertension - delivered (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="199000005"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Pre-eclampsia or eclampsia with pre-existing hypertension - delivered with postnatal complication (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="199002002"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Pre-eclampsia or eclampsia with pre-existing hypertension - not delivered (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="199003007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Pre-eclampsia or eclampsia with pre-existing hypertension with postnatal complication (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="199005000"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Pre-existing hypertension complicating pregnancy, childbirth and puerperium (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="199007008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Pre-existing hypertensive heart and renal disease complicating pregnancy, childbirth and the puerperium (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="199008003"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Pre-existing secondary hypertension complicating pregnancy, childbirth and puerperium (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="206596003"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Neonatal hypertension"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="237279007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Transient hypertension of pregnancy (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="237281009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Moderate proteinuric hypertension of pregnancy (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="237282002"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Impending eclampsia (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="276789009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Labile hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="288250001"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Maternal hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="307632004"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Non-proteinuric hypertension of pregnancy (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="308551004"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Gestational hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="367390009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Hypertension in the obstetric context (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="371125006"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Labile essential hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="397748008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Hypertension with albuminuria (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="398254007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Pre-eclampsia (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="427889009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Hypertension associated with transplantation (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="428575007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Hypertension secondary to kidney transplant (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="429198000"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Exertional hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="429457004"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic essential hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="443482000"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Hypertensive urgency (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="541000119105"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Hypertension complicating pregnancy, childbirth and the puerperium, antepartum (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="5501000119106"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Postoperative hypertension (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="132721000119104"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Hypertensive emergency (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
  </test>
  <test id="test1-7">
    <name value="Fixed expansion #7"/>
    <description value="Expanding a fixed limited value set, case #7"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $expand"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$expand"/>
      </validates>
    </metadata>
    <operation>
      <type value="$expand"/>
      <target value="intensional-case-3"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="too-costly"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>

<!-- These tests are from suite2 - Expansion Tests with a text filter -->

  <test id="test2-1">
    <name value="Fixed expansion #1 + text filter"/>
    <description value="Expanding a fixed limited value set with a text filter 'f', case #1"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $expand"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$expand"/>
      </validates>
    </metadata>
    <operation>
      <type value="$expand"/>
      <target value="extensional-case-1"/>
      <parameter value="filter=f"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:id/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:meta/fhir:lastUpdated/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ValueSet/extensional-case-1"/>
      <parameter value="fhir:ValueSet/fhir:identifier/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="draft"/>
      <parameter value="fhir:ValueSet/fhir:status/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="true"/>
      <parameter value="fhir:ValueSet/fhir:experimental/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:timestamp/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-max"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="5"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/fhir:valueInteger/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="open"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/patient-contact-relationship"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="family"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Family"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="friend"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Friend"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
  </test>
  <test id="test2-2">
    <name value="Fixed expansion with text filter #2"/>
    <description value="Expanding a fixed limited value set with a text filter 'mean', case #2"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $expand"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$expand"/>
      </validates>
    </metadata>
    <operation>
      <type value="$expand"/>
      <target value="extensional-case-2"/>
      <parameter value="filter=mean"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:id/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:meta/fhir:lastUpdated/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ValueSet/extensional-case-2"/>
      <parameter value="fhir:ValueSet/fhir:identifier/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="draft"/>
      <parameter value="fhir:ValueSet/fhir:status/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="true"/>
      <parameter value="fhir:ValueSet/fhir:experimental/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:timestamp/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-max"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="18"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/fhir:valueInteger/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="open"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://loinc.org"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8486-3"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 1 hour mean"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8487-1"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 8 hour mean"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8488-9"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 10 hour mean"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8489-7"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 12 hour mean"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8490-5"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure 24 hour mean"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
  </test>
  <test id="test2-3">
    <name value="Fixed expansion with text filter #3"/>
    <description value="Expanding a fixed limited value set with text filter 'fail', case #3"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $expand"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$expand"/>
      </validates>
    </metadata>
    <operation>
      <type value="$expand"/>
      <target value="extensional-case-3"/>
      <parameter value="filter=fail"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:id/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:meta/fhir:lastUpdated/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ValueSet/extensional-case-3"/>
      <parameter value="fhir:ValueSet/fhir:identifier/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="draft"/>
      <parameter value="fhir:ValueSet/fhir:status/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="true"/>
      <parameter value="fhir:ValueSet/fhir:experimental/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:timestamp/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="open"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-max"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="25"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/fhir:valueInteger/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://snomed.info/sct"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="417996009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic heart failure (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="120871000119108"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic heart failure stage B (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="120851000119104"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic heart failure stage D (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="120861000119102"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic heart failure stage C (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="609556008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic heart failure stage A (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="443254009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Acute systolic heart failure (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="441481004"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Chronic systolic heart failure (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="443253003"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Acute on chronic systolic heart failure (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="426263006"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Congestive heart failure due to left ventricular systolic dysfunction (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
  </test>
  <test id="test2-4">
    <name value="Fixed expansion with a text filter #4"/>
    <description value="Expanding a fixed limited value set with a text filter 'f', case #4"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $expand"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$expand"/>
      </validates>
    </metadata>
    <operation>
      <type value="$expand"/>
      <target value="extensional-case-4"/>
      <parameter value="filter=f"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:id/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:meta/fhir:lastUpdated/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ValueSet/extensional-case-4"/>
      <parameter value="fhir:ValueSet/fhir:identifier/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="draft"/>
      <parameter value="fhir:ValueSet/fhir:status/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="true"/>
      <parameter value="fhir:ValueSet/fhir:experimental/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:timestamp/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="open"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-max"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/fhir:valueInteger/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/patient-contact-relationship"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="family"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Family"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="friend"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Friend"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="FTH"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="father"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
  </test>
  <test id="test2-5">
    <name value="Intensional expansion with text filter #1"/>
    <description value="Expanding an intensional value set with text filter 'exp', case #1"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $expand"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$expand"/>
      </validates>
    </metadata>
    <operation>
      <type value="$expand"/>
      <target value="intensional-case-1"/>
      <parameter value="filter=exp"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:id/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:meta/fhir:lastUpdated/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ValueSet/intensional-case-1"/>
      <parameter value="fhir:ValueSet/fhir:identifier/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="draft"/>
      <parameter value="fhir:ValueSet/fhir:status/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="true"/>
      <parameter value="fhir:ValueSet/fhir:experimental/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:timestamp/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="open"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-max"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="25"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/fhir:valueInteger/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://loinc.org"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8446-7"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Diastolic blood pressure--expiration"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8448-3"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Mean blood pressure--expiration"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8450-9"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure--expiration"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8452-5"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Systolic blood pressure.inspiration - expiration"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
  </test>
  <test id="test2-6">
    <name value="intensional expansion with text filter #2"/>
    <description value="Expanding an intensional value set with text filter = chronic, case #2"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $expand"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$expand"/>
      </validates>
    </metadata>
    <operation>
      <type value="$expand"/>
      <target value="intensional-case-2"/>
      <parameter value="filter=chronic"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:id/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:meta/fhir:lastUpdated/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ValueSet/intensional-case-2"/>
      <parameter value="fhir:ValueSet/fhir:identifier/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="draft"/>
      <parameter value="fhir:ValueSet/fhir:status/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="true"/>
      <parameter value="fhir:ValueSet/fhir:experimental/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:timestamp/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="open"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-max"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="18"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/fhir:valueInteger/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://snomed.info/sct"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8218002"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Chronic hypertension complicating AND/OR reason for care during childbirth"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="8762007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Chronic hypertension in obstetric context (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="24042004"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Chronic hypertension complicating AND/OR reason for care during puerperium (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="37618003"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Chronic hypertension complicating AND/OR reason for care during pregnancy (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
  </test>
  <test id="test2-7">
    <name value="intensional expansion with text filter #3"/>
    <description value="Expanding an intensional value set with text filter='renin', case #3"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $expand"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$expand"/>
      </validates>
    </metadata>
    <operation>
      <type value="$expand"/>
      <target value="intensional-case-3"/>
      <parameter value="filter=renin"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:id/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:meta/fhir:lastUpdated/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ValueSet/intensional-case-3"/>
      <parameter value="fhir:ValueSet/fhir:identifier/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="draft"/>
      <parameter value="fhir:ValueSet/fhir:status/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="true"/>
      <parameter value="fhir:ValueSet/fhir:experimental/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:timestamp/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="open"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-max"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="100"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:extension/fhir:valueInteger/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://snomed.info/sct"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="57883007"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Renin test diet (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="95583008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Ectopic renin secretion (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="102799005"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Normal renin secretion (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="102800009"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Abnormal renin secretion (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="102802001"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Decreased renin secretion (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="102801008"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Increased renin secretion (finding)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="102803006"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Absence of renin secretion (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="124504004"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Deficiency of renin (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="307618001"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="Juxtaglomerular tumor (disorder)"/>
      <parameter value="fhir:ValueSet/fhir:expansion/fhir:contains/fhir:display/@value"/>
    </operation>
  </test>

<!-- These tests are from suite3 - Basic Validation Tests -->

  <test id="test3-1-a">
    <name value="Validation valueset #1 valid"/>
    <description value="Check that the code {http://hl7.org/fhir/patient-contact-relationship}emergency is in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="extensional-case-1"/>
      <parameter value="system=http://hl7.org/fhir/patient-contact-relationship"/>
      <parameter value="code=emergency"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="empty"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
  </test>
  <test id="test3-1-b">
    <name value="Validation valueset #1 invalid system"/>
    <description value="Check that the code {http://hl7.org/fhir/patient-contact-relationshipX}emergency is not in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="extensional-case-1"/>
      <parameter value="system=http://hl7.org/fhir/patient-contact-relationshipX"/>
      <parameter value="code=emergency"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>
  <test id="test3-1-c">
    <name value="Validation valueset #1 invalid code"/>
    <description value="Check that the code {http://hl7.org/fhir/patient-contact-relationship}emergencyX is not in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="extensional-case-1"/>
      <parameter value="system=http://hl7.org/fhir/patient-contact-relationship"/>
      <parameter value="code=emergencyX"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>

  <test id="test3-2-a">
    <name value="Validation valueset #2 valid"/>
    <description value="Check that the code {http://loinc.org}11378-7 'Systolic blood pressure at First encounter' is in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="extensional-case-2"/>
      <parameter value="system=http://loinc.org"/>
      <parameter value="code=11378-7"/>
      <parameter value="display=Systolic%20blood%20pressure%20at%20First%20encounter"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="empty"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
  </test>
  <test id="test3-2-b">
    <name value="Validation valueset #2 valid code invalid display"/>
    <description value="Check that the code {http://loinc.org}11378-7 'Systolic blood pressure at First encounter' is in the value set, but supply a wrong display"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="extensional-case-2"/>
      <parameter value="system=http://loinc.org"/>
      <parameter value="code=11378-7"/>
      <parameter value="display=Systolic%20blood%20pressure%20at%20First%20encounterX"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="warning"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>
  <test id="test3-2-c">
    <name value="Validation valueset #2 invalid system"/>
    <description value="Check that the code {http://loinc.orgX}11378-7 'Systolic blood pressure at First encounter' is not in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="extensional-case-2"/>
      <parameter value="system=http://loinc.orgX"/>
      <parameter value="code=11378-7"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>
  <test id="test3-2-d">
    <name value="Validation valueset #2 invalid code"/>
    <description value="Check that the code {http://loinc.org}11378-7X 'Systolic blood pressure at First encounter' is not in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="extensional-case-2"/>
      <parameter value="system=http://loinc.org"/>
      <parameter value="code=11378-7X"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>
  <test id="test3-2-e">
    <name value="Validation valueset #2 valid code not in valid set"/>
    <description value="Check that the code {http://loinc.org}13457-7 is not in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="extensional-case-2"/>
      <parameter value="system=http://loinc.org"/>
      <parameter value="code=13457-7"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>

  <test id="test3-3-a">
    <name value="Validation valueset #3 valid"/>
    <description value="Check that the code {http://snomed.info/sct}371037005 'Systolic dysfunction' is in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="extensional-case-3"/>
      <parameter value="system=http://snomed.info/sct"/>
      <parameter value="code=371037005"/>
      <parameter value="display=Systolic%20dysfunction"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="empty"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
  </test>
  <test id="test3-3-b">
    <name value="Validation valueset #3 valid code invalid display"/>
    <description value="Check that the code {http://snomed.info/sct}371037005 'Systolic dysfunction' is in the value set, but give the wrong display`"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="extensional-case-3"/>
      <parameter value="system=http://snomed.info/sct"/>
      <parameter value="code=371037005"/>
      <parameter value="display=Systolic%20dysfunctionX"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="warning"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>
  <test id="test3-3-c">
    <name value="Validation valueset #3 invalid system"/>
    <description value="Check that the code {http://snomed.info/sctX}371037005 is not in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="extensional-case-3"/>
      <parameter value="http://snomed.info/sctX"/>
      <parameter value="code=371037005"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>
  <test id="test3-3-d">
    <name value="Validation valueset #3 invalid code"/>
    <description value="Check that the code {http://snomed.info/sct}371037005X is not in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="extensional-case-3"/>
      <parameter value="system=http://snomed.info/sct"/>
      <parameter value="code=371037005X"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>
  <test id="test3-3-e">
    <name value="Validation valueset #3 valid code not in valid set"/>
    <description value="Check that the code {http://snomed.info/sct}102261002 is not in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="extensional-case-3"/>
      <parameter value="system=http://snomed.info/sct"/>
      <parameter value="code=102261002"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>

  <test id="test3-4-a">
    <name value="Validation valueset #4 valid"/>
    <description value="Check that the code {http://hl7.org/fhir/v3/RoleCode}CHILD 'child' is in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="extensional-case-4"/>
      <parameter value="system=http://hl7.org/fhir/v3/RoleCode"/>
      <parameter value="code=CHILD"/>
      <parameter value="display=child"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="empty"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
  </test>
  <test id="test3-4-b">
    <name value="Validation valueset #4 valid code invalid display"/>
    <description value="Check that the code {http://hl7.org/fhir/v3/RoleCode}CHILD 'child' is in the value set, but give the wrong display`"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="extensional-case-4"/>
      <parameter value="system=http://hl7.org/fhir/v3/RoleCode"/>
      <parameter value="code=CHILD"/>
      <parameter value="display=childX"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="warning"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>
  <test id="test3-4-c">
    <name value="Validation valueset #4 invalid system"/>
    <description value="Check that the code {http://hl7.org/fhir/v3/RoleCodeX}CHILD is not in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="extensional-case-4"/>
      <parameter value="system=http://hl7.org/fhir/v3/RoleCodeX"/>
      <parameter value="code=CHILD"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>
  <test id="test3-4-d">
    <name value="Validation valueset #4 invalid code"/>
    <description value="Check that the code {http://hl7.org/fhir/v3/RoleCode}child is not in the value set (note: this coding system is case sensitive, so 'CHILD' is valid, but 'child' is not"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="extensional-case-4"/>
      <parameter value="system=http://hl7.org/fhir/v3/RoleCode"/>
      <parameter value="code=child"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>
  <test id="test3-4-e">
    <name value="Validation valueset #4 valid code not in valid set"/>
    <description value="Check that the code {http://hl7.org/fhir/v3/RoleCode}FULLINS is not in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="extensional-case-4"/>
      <parameter value="system=http://hl7.org/fhir/v3/RoleCode"/>
      <parameter value="code=FULLINS"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>

  <test id="test3-5-a">
    <name value="Validation valueset #5 valid"/>
    <description value="Check that the code {http://loinc.org}11377-9 'Diastolic blood pressure at First encounter' is in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="intensional-case-1"/>
      <parameter value="system=http://loinc.org"/>
      <parameter value="code=11377-9"/>
      <parameter value="display=Diastolic%20blood%20pressure%20at%20First%20encounter"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="empty"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
  </test>
  <test id="test3-5-b">
    <name value="Validation valueset #5 valid code invalid display"/>
    <description value="Check that the code {http://loinc.org}11377-9 'Diastolic blood pressure at First encounter' is in the value set, but supply a wrong display"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="intensional-case-1"/>
      <parameter value="http://loinc.org"/>
      <parameter value="code=11377-9"/>
      <parameter value="display=Diastolic%20blood%20pressure%20at%20First%20encounterX"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="warning"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>
  <test id="test3-5-c">
    <name value="Validation valueset #5 invalid system"/>
    <description value="Check that the code {http://loinc.orgX}11377-9 is not in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="intensional-case-1"/>
      <parameter value="system=http://loinc.orgX"/>
      <parameter value="code=11377-9"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>
  <test id="test3-5-d">
    <name value="Validation valueset #5 invalid code"/>
    <description value="Check that the code {http://loinc.org}11377-9X is not in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="intensional-case-1"/>
      <parameter value="system=http://loinc.org"/>
      <parameter value="code=11377-9X"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>
  <test id="test3-5-e">
    <name value="Validation valueset #5 valid code not in valid set"/>
    <description value="Check that the code {http://loinc.org}13457-7 is not in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="intensional-case-1"/>
      <parameter value="system=http://loinc.org"/>
      <parameter value="code=13457-7"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>

  <test id="test3-6-a">
    <name value="Validation valueset #6 valid"/>
    <description value="Check that the code {http://snomed.info/sct}8762007 'Chronic hypertension in obstetric context (disorder)' is in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="intensional-case-2"/>
      <parameter value="system=http://snomed.info/sct"/>
      <parameter value="code=8762007"/>
      <parameter value="display=Chronic%20hypertension%20in%20obstetric%20context%20(disorder)"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="empty"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
  </test>
  <test id="test3-6-b">
    <name value="Validation valueset #6 valid code invalid display"/>
    <description value="Check that the code {http://snomed.info/sct}8762007 'Chronic hypertension in obstetric context (disorder)' is in the value set, but give the wrong display`"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="intensional-case-2"/>
      <parameter value="system=http://snomed.info/sct"/>
      <parameter value="code=8762007"/>
      <parameter value="display=Chronic%20hypertension%20in%20obstetric%20context%20(disorder)X"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="warning"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>
  <test id="test3-6-c">
    <name value="Validation valueset #6 invalid system"/>
    <description value="Check that the code {http://snomed.info/sctX}8762007 is not in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="intensional-case-2"/>
      <parameter value="system=http://snomed.info/sctX"/>
      <parameter value="code=8762007"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>
  <test id="test3-6-d">
    <name value="Validation valueset #6 invalid code"/>
    <description value="Check that the code {http://snomed.info/sct}8762007X is not in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="intensional-case-2"/>
      <parameter value="system=http://snomed.info/sct"/>
      <parameter value="code=8762007X"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>
  <test id="test3-6-e">
    <name value="Validation valueset #6 valid code not in valid set"/>
    <description value="Check that the code {http://snomed.info/sct}102261002 is not in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="intensional-case-2"/>
      <parameter value="system=http://snomed.info/sct"/>
      <parameter value="code=102261002"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>

  <test id="test3-7-a">
    <name value="Validation valueset #7 valid"/>
    <description value="Check that the code {http://snomed.info/sct}8762007 'Chronic hypertension in obstetric context (disorder)' is in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="intensional-case-3"/>
      <parameter value="system=http://snomed.info/sct"/>
      <parameter value="code=8762007"/>
      <parameter value="display=Chronic%20hypertension%20in%20obstetric%20context%20(disorder)"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="empty"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
  </test>
  <test id="test3-7-b">
    <name value="Validation valueset #7 valid code invalid display"/>
    <description value="Check that the code {http://snomed.info/sct}8762007 'Chronic hypertension in obstetric context (disorder)' is in the value set, but give the wrong display`"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="intensional-case-3"/>
      <parameter value="system=http://snomed.info/sct"/>
      <parameter value="code=8762007"/>
      <parameter value="display=Chronic%20hypertension%20in%20obstetric%20context%20(disorder)X"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="warning"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>
  <test id="test3-7-c">
    <name value="Validation valueset #7 invalid system"/>
    <description value="Check that the code {http://snomed.info/sctX}8762007 is not in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="intensional-case-3"/>
      <parameter value="system=http://snomed.info/sctX"/>
      <parameter value="code=8762007"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>
  <test id="test3-7-d">
    <name value="Validation valueset #7 invalid code"/>
    <description value="Check that the code {http://snomed.info/sct}8762007X is not in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="intensional-case-3"/>
      <parameter value="system=http://snomed.info/sct"/>
      <parameter value="code=8762007X"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>
  <test id="test3-7-e">
    <name value="Validation valueset #7 valid code not in valid set"/>
    <description value="Check that the code {http://snomed.info/sct}102261002 is not in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="intensional-case-3"/>
      <parameter value="system=http://snomed.info/sct"/>
      <parameter value="code=102261002"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="error"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://hl7.org/fhir/issue-type"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:system/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="code-unknown"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:type/fhir:code/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/pattern"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:details/fhir:extension/@url"/>
    </operation>
  </test>

<!-- These tests are from suite4 - Validation Tests - API variation -->
  <test id="test4-1-a">
    <name value="Valid - system/code parameters"/>
    <description value="Check that the code {http://hl7.org/fhir/patient-contact-relationship}emergency is in the value set"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="extensional-case-1"/>
      <parameter value="system=http://hl7.org/fhir/patient-contact-relationship"/>
      <parameter value="code=emergency"/>
      <parameter value="display=Emergency"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_code"/>
      <parameter value="200"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="empty"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
  </test>
  <test id="test4-1-b">
    <name value="Invalid display - system/code parameters"/>
    <description value="Check that the code {http://hl7.org/fhir/patient-contact-relationshipX}emergency is in the value set, but give the wrong display"/>
    <metadata>
      <link>
        <url value="http://fhir.org/spec.html"/>
        <description value="link to the FHIR specification"/>
      </link>
      <requires>
        <type value="ValueSet"/>
        <operations value="create, $validate"/>
      </requires>
      <validates>
        <type value="ValueSet"/>
        <operations value="$validate"/>
      </validates>
    </metadata>
    <operation>
      <type value="$validate"/>
      <target value="extensional-case-1"/>
      <parameter value="system=http://hl7.org/fhir/patient-contact-relationship"/>
      <parameter value="code=emergency"/>
      <parameter value="display=EmergencyX"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="response_not_okay"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="http://www.healthintersections.com.au/fhir/ExtensionDefinition/list-rules"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/@url"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="minimum-no-order"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:extension/fhir:valueCode/@value"/>
    </operation>
    <operation>
      <type value="assertion"/>
      <parameter value="equals"/>
      <parameter value="warning"/>
      <parameter value="fhir:OperationOutcome/fhir:issue/fhir:severity/@value"/>
    </operation>
  </test>
  <!-- Tests below require POSTing data with the $validate operation... -->
  <!-- <test id="test4-2-a"></test> -->
  <!-- <test id="test4-2-b"></test> -->
  <!-- <test id="test4-3-a"></test> -->
  <!-- <test id="test4-3-b"></test> -->
  <!-- <test id="test4-4-a"></test> -->
  <!-- <test id="test4-4-b"></test> -->

  <teardown>
    <operation>
      <type value="delete"/>
      <target value="extensional-case-1"/>
    </operation>
    <operation>
      <type value="delete"/>
      <target value="extensional-case-2"/>
    </operation>
    <operation>
      <type value="delete"/>
      <target value="extensional-case-3"/>
    </operation>
    <operation>
      <type value="delete"/>
      <target value="extensional-case-4"/>
    </operation>
    <operation>
      <type value="delete"/>
      <target value="intensional-case-1"/>
    </operation>
    <operation>
      <type value="delete"/>
      <target value="intensional-case-2"/>
    </operation>
    <operation>
      <type value="delete"/>
      <target value="intensional-case-3"/>
    </operation>
  </teardown>

</TestScript>
